{% extends "../base.html" %}

{% block page_content %}
{% from verserain.verse import language %}

<h2>Help Us Translate Verserain</h2>

<form style="">
&nbsp; Language: &nbsp; <select name="language" onchange="location.href='/translation/'+this.value;">
{% for lang_code in language.LANGUAGE_CODES %}
<option value="{{lang_code}}" {% if lang_code == language_code %}selected{% end %} >{{language.LANGUAGE_BY_CODE[lang_code]}}</option>
{% end %}
</select>
</form>

<form class="pure-form pure-form-stacked centered">

{% set i=0 %}
{% for tran in trans %}
<fieldset>
<label for="tran_{{i}}">{{tran["msgid"]}}</label>

<input type="text" value="{% raw tran["msgstr"] %}" style="width:500px;" onblur="$('#status_{{i}}').html('Saving..'); var msgid='{% raw tran["msgid"].replace("'","\\'")%}'; vr.ajax_request('/translation/save', {language:'{{language_code}}', msgid:msgid, msgstr:this.value}, '#status_{{i}}');"/>
<span id="status_{{i}}">{% include "history.html" %}</span>
</fieldset>

{% set i = i + 1 %}
{% end %}

</form>

{% end %}
